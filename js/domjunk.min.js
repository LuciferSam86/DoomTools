/****************************************************************************
 * DOMJunk by Matt Tropiano (C) 2021
 * Requires ECMAScript 6
 * Licensed for use under the MIT License
 * @license
 ****************************************************************************/
!function(t){if(!t.document.querySelectorAll)return void console.error("Missing required function: document.querySelectorAll.");if(!t.document.querySelector)return void console.error("Missing required function: document.querySelector.");if(!t.document.createElement)return void console.error("Missing required function: document.createElement.");if(!t.document.createTextNode)return void console.error("Missing required function: document.createTextNode.");if(!t.Element.prototype.querySelectorAll)return void console.error("Missing required function: Element.querySelectorAll.");if(!t.Element.prototype.querySelector)return void console.error("Missing required function: Element.querySelector.");if(!t.DOMParser)return void console.error("Missing required object: DOMParser.");const e=function(t,e){return Object.prototype.toString.call(t)==="[object "+e+"]"},n=function(t){return void 0===t},r=function(t){return null===t},i=function(t){return e(t,"Boolean")},o=function(t){return e(t,"Number")},s=function(t){return e(t,"String")},u=function(t){return e(t,"Array")},l=function(t){return e(t,"Function")},a=function(t){return e(t,"Object")},c=function(t){return n(t)||r(t)||u(t)&&0===t.length||o(t)&&isNaN(t)||s(t)&&0===t.trim().length||0===t},d=function(t,e){if(!n(t)&&!r(t))if(i(t)||o(t)||s(t))e(t,null,1);else for(let n in t)if(t.hasOwnProperty(n)&&e(t[n],n,t.length))break},h=function(t,e){return e(t),t},p=function(){let t={};return d(arguments,e=>{t={...t,...e}}),t},f=function(t){let e=[];return d(t,(t,i)=>{if(u(t))for(let n=0;n<t.length;n++)e.push(encodeURIComponent(i)+"="+encodeURIComponent(t[n]));else n(t)||r(t)||e.push(encodeURIComponent(i)+"="+encodeURIComponent(t))}),e.join("&")},m=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.msMatchesSelector,y=function(t,e){return m.call(t,e)},g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},x=/&|\<|\>|\"|\'|\/|`|=/g,A={data:null,dataType:"form",responseType:null,headers:{},responseIsSuccess:!1,async:!0,user:null,password:null};class S{constructor(t,e){if(n(t)||r(t))this.length=0;else if(e||n(t.length))this[0]=t,this.length=1;else{for(let e=0;e<t.length;e++)this[e]=t[e];this.length=t.length}}}class F{constructor(t,e,n){this.beforeSendFunc=null,this.uploadStartFunc=null,this.uploadProgressFunc=null,this.uploadSuccessFunc=null,this.uploadEndFunc=null,this.startFunc=null,this.progressFunc=null,this.successFunc=null,this.failureFunc=null,this.alwaysFunc=null,this.abortFunc=null,this.timeoutFunc=null;const r=t=>{this.failureFunc&&this.failureFunc(s.status,s.statusText,s,t)},i=t=>{this.abortFunc&&this.abortFunc(s,t)},o=t=>{this.timeoutFunc&&this.timeoutFunc(s,t)},s=new XMLHttpRequest;s.open(e.method,t,e.async,e.user,e.password),e.headers&&d(e.headers,(t,e)=>{s.setRequestHeader(e,t)}),s.upload.onloadstart=(t=>{this.uploadStartFunc&&this.uploadStartFunc(s,t)}),s.upload.onprogress=(t=>{this.uploadProgressFunc&&this.uploadProgressFunc(t.lengthComputable?t.loaded/t.total:0,t.loaded,t.total,s,t)}),s.upload.onload=(t=>{this.uploadSuccessFunc&&this.uploadSuccessFunc(s,t)}),s.upload.onloadend=(t=>{this.uploadEndFunc&&this.uploadEndFunc(s,t)}),s.upload.onerror=r,s.upload.onabort=i,s.upload.ontimeout=o,s.onloadstart=(t=>{this.startFunc&&this.startFunc(s,t)}),s.onprogress=(t=>{this.progressFunc&&this.progressFunc(t.lengthComputable?t.loaded/t.total:0,t.loaded,t.total,s,t)}),s.onerror=r,s.onabort=i,s.ontimeout=o,s.onload=(t=>{let n=parseInt(s.status/100,10);if(4!==n&&5!==n||e.responseIsSuccess){if(this.successFunc)try{const n="charset=";let r=s.getResponseHeader("Content-Type"),i=r.indexOf(";"),o=i>=0?r.substring(0,i):r,u=r.indexOf(n),l=u>=0?r.substring(u+n.length,r.length).trim():null,a=e.responseType||o,c=s.response;responseTypeHandlers[a]&&(c=responseTypeHandlers[a](s.response,s.responseType,o,l,r)),this.successFunc(c,s.status,s.statusText,s,t)}catch(e){this.failureFunc&&this.failureFunc(null,null,s,t,e),this.alwaysFunc&&this.alwaysFunc(t,s)}}else this.failureFunc&&this.failureFunc(s.status,s.statusText,s,t)}),s.onloadend=(t=>{this.alwaysFunc&&this.alwaysFunc(s,t)}),setTimeout(()=>{try{this.beforeSendFunc&&this.beforeSendFunc(s),s.send(n)}catch(t){this.failureFunc&&this.failureFunc(null,null,s,null,t),this.alwaysFunc&&this.alwaysFunc(null,s)}},0)}beforeSend(t){return this.beforeSendFunc=t,this}start(t){return this.startFunc=t,this}progress(t){return this.progressFunc=t,this}success(t){return this.successFunc=t,this}uploadStart(t){return this.uploadStartFunc=t,this}uploadProgress(t){return this.uploadProgressFunc=t,this}uploadSuccess(t){return this.uploadSuccessFunc=t,this}uploadFinished(t){return this.uploadEndFunc=t,this}failure(t){return this.failureFunc=t,this}always(t){return this.alwaysFunc=t,this}abort(t){return this.abortFunc=t,this}timeout(t){return this.timeoutFunc=t,this}}F.prototype.responseTypeHandlers={};const T=t=>"on"+t.toLowerCase(),E=function(t){let i=null;s(t)?i={method:"GET",url:t}:a(t)&&(i=t),i.method?i.method=i.method.toUpperCase():i.method="GET",i.url=i.url||"#";let o=p(A,i),u=o.url,l=null;return r(o.data)||n(o.data)||(a(o.data)?"GET"===o.method||"DELETE"===o.method?u=u+(u.indexOf("?")>=0?"&":"?")+f(o.data):"text"===o.dataType?(l=f(o.data),o.headers["Content-Type"]="text/plain"):"json"===o.dataType?(l=JSON.stringify(o.data),o.headers["Content-Type"]="application/json"):"form"===o.dataType&&(l=f(o.data),o.headers["Content-Type"]="application/x-www-form-urlencoded"):s(o.data)||e(o.data,"DOMString")?"GET"===o.method||"DELETE"===o.method?u+=qs:(l=o.data,o.headers["Content-Type"]=o.dataType||"application/octet-stream"):e(o.data,"ArrayBuffer")?"GET"!==o.method&&"DELETE"!==o.method&&(l=o.data,o.headers["Content-Type"]=o.dataType||"application/octet-stream"):e(o.data,"ArrayBufferView")?"GET"!==o.method&&"DELETE"!==o.method&&(l=o.data,o.headers["Content-Type"]=o.dataType||"application/octet-stream"):e(o.data,"Blob")?"GET"!==o.method&&"DELETE"!==o.method&&(l=o.data,o.headers["Content-Type"]=o.dataType||"application/octet-stream"):e(o.data,"Document")||e(o.data,"HTMLDocument")?"GET"!==o.method&&"DELETE"!==o.method&&(l=o.data,o.headers["Content-Type"]="text/html"):e(o.data,"XMLDocument")?"GET"!==o.method&&"DELETE"!==o.method&&(l=o.data,o.headers["Content-Type"]="application/xml"):e(o.data,"FormData")&&"GET"!==o.method&&"DELETE"!==o.method&&(l=o.data,o.headers["Content-Type"]="multipart/form-data")),new F(u,o,l)},J=function(t,e,n,r){return E({method:t,headers:r,url:e,data:n,dataType:"json",responseType:"json"})},b=function(t){return Util.isString(t)?t:Object.prototype.toString.call(t)},w=function(t,e,n){return(new DOMParser).parseFromString(t,n)},D=function(t){return JSON.parse(t)},N=new function(){return function(t,e){return n(t)||r(t)?new S([]):s(t)?new S(e?document.querySelector(t):document.querySelectorAll(t)):new S(t)}};N.extend=function(t,e){S.prototype[t]=function(){let t;for(let r=0;r<this.length&&n(t);r++)t=e.apply(this[r],arguments);return n(t)?this:t}},N.extendSelection=function(t,e){S.prototype[t]=function(){return e.apply(this,arguments)}},N.extendAJAX=function(t,e){F.prototype.responseTypeHandlers[t]=e},N.extend("each",function(t){t.apply(this,[this])}),N.extend("find",function(t,e){return new S(e?this.querySelector(t):this.querySelectorAll(t))}),N.extend("child",function(t){return new S(this.children[t],!0)}),N.extend("children",function(){return new S(this.children)}),N.extend("parent",function(){return new S(this.parentElement,!0)}),N.extend("clear",function(){for(;this.firstChild;)this.removeChild(this.firstChild)}),N.extend("append",function(t){if(u(t))for(let e=0;e<t.length;e++)this.appendChild(t[e]);else if(t instanceof Document)for(let e=0;e<t.children.length;e++)this.appendChild(t.children[e]);else this.appendChild(t)}),N.extend("refill",function(t){new S(this).clear().append(t)}),N.extend("html",function(t){if(n(t))return this.innerHTML;this.innerHTML=t}),N.extend("text",function(t){if(n(t))return this.innerText;this.innerHTML=t.replace(x,t=>g[t])}),N.extend("set",function(t,e){this[t]=e}),N.extend("merge",function(t){d(t,(t,e)=>{this[e]=t})}),N.extend("style",function(t){if(n(t))return p({},this.style);if(u(t)){let e={};return d(t,t=>{e[t]=this.style[t]}),e}if(!a(t))return this.style[t];d(t,(t,e)=>{this.style[e]=t})}),N.extend("attr",function(t){if(n(t)){let t={};const e=this.getAttributeNames();for(let n=0;n<e.length;n++)t[e[n]]=this.getAttribute(e[n]);return t}if(u(t)){let e={};return d(t,t=>{e[t]=this.getAttribute(t)}),e}if(!a(t))return this.getAttribute(t);d(t,(t,e)=>{this.setAttribute(e,t)})}),N.extend("classAdd",function(){const t=this.className.trim().length>0?this.className.split(/\s+/):[],e=h({},e=>{t.map(t=>{e[t]=!0})});for(let n=0;n<arguments.length;n++)e[arguments[n]]||t.push(arguments[n]);this.className=t.join(" ")}),N.extend("classRemove",function(){const t=this.className.trim().length>0?this.className.split(/\s+/):[],e={};for(let t=0;t<arguments.length;t++)e[arguments[t]]=!0;const n=[];d(t,t=>{e[t]||n.push(t)}),c(n)?this.removeAttribute("class"):this.className=n.join(" ")}),N.extend("classToggle",function(){const t=this.className.trim().length>0?this.className.split(/\s+/):[],e=h({},e=>{t.map(t=>{e[t]=!0})}),n=h({},t=>{d(arguments,e=>{t[e]=!0})}),r=[];for(let e=0;e<t.length;e++){let i=t[e];n[i]||r.push(i)}for(let t=0;t<arguments.length;t++){let n=arguments[t];e[n]||r.push(n)}c(r)?this.removeAttribute("class"):this.className=r.join(" ")}),N.extend("attach",function(t,e){const n=this;this[T(t)]=e?function(t){e.apply(n,[t])}:null}),N.extend("detach",function(t){this[T(t)]=null}),N.extendSelection("get",function(t){return new S(this[t])}),N.extendSelection("first",function(){return new S(this[0])}),N.extendSelection("last",function(){return new S(this[this.length-1])}),N.extendSelection("form",function(t){if(!n(t)&&!l(t))throw new Error("Callback function for formData must be a function!");let e={};return new S(this).find("input, textarea, select").each(function(){let t=this.getAttribute("name");if(t&&!y(this,":disabled")){const n=this.getAttribute("type");let r="checkbox"===n||"radio"===n?y(this,":checked")&&this.value:this.value;if(r)if(a(e[t]))e[t].push(r);else if(e[t]){let n=[e[t],r];e[t]=n}else e[t]=r}}),t?(t(e),this):e}),N.extendSelection("apply",function(t){d(t,(t,e)=>{this.find(e).each(t)})});const C=function(t){return function(e){this.attach(t,e)}};N.extendSelection("load",C("load")),N.extendSelection("unload",C("unload")),N.extendSelection("click",C("click")),N.extendSelection("dblclick",C("dblclick")),N.extendSelection("hover",C("mouseenter")),N.extendSelection("leave",C("mouseleave")),N.extendSelection("keydown",C("keydown")),N.extendSelection("keyup",C("keyup")),N.extendSelection("focus",C("focus")),N.extendSelection("blur",C("blur")),N.extendSelection("change",C("change")),N.extendAJAX("text",b),N.extendAJAX("text/plain",b),N.extendAJAX("json",D),N.extendAJAX("application/json",D),N.extendAJAX("xml",w),N.extendAJAX("text/xml",w),N.extendAJAX("application/xml",w),N.extendAJAX("html",w),N.extendAJAX("text/html",w),N.extendAJAX("xhtml",w),N.extendAJAX("text/xhtml",w),N.id=function(t){return new S(document.getElementById(t),!0)},N.class=function(t){return new S(document.getElementsByClassName(t))},N.tag=function(t,e){return n(e)?new S(document.getElementsByTagName(t)):new S(document.getElementsByTagNameNS(e,t))},N.Util={},N.Util.isType=e,N.Util.isUndefined=n,N.Util.isNull=r,N.Util.isBoolean=i,N.Util.isNumber=o,N.Util.isString=s,N.Util.isArray=u,N.Util.isFunction=l,N.Util.isObject=a,N.Util.isBlank=c,N.Util.each=d,N.Util.fold=h,N.Util.merge=p,N.Util.queryString=f,N.Util.E=function(t,e,n){const r=document.createElement(t);if(e&&d(e,(t,e)=>{const n=document.createAttribute(e);n.value=t,r.setAttributeNode(n)}),n)if(u(n))for(let t=0;t<n.length;t++)r.appendChild(n[t]);else r.appendChild(n);return r},N.Util.T=function(t){return document.createTextNode(t)},N.AJAX=E,N.JSONAJAX=J,N.JSONAJAX.get=function(t,e){return J("get",t,null,e)},N.JSONAJAX.delete=function(t,e){return J("delete",t,null,e)},N.JSONAJAX.put=function(t,e,n){return J("put",t,e,n)},N.JSONAJAX.post=function(t,e,n){return J("post",t,e,n)},N.JSONAJAX.patch=function(t,e,n){return J("patch",t,e,n)};let U=t.$DJ,q=t.$DJU,X=t.$DJA,M=t.$DJJ,O=t.$DJMain;N.noConflict=function(){t.$DJ=U,t.$DJU=q,t.$DJA=X,t.$DJJ=M,t.$DJMain=O},t.DOMJunk=N,t.$DJ=N,t.$DJU=N.Util,t.$DJA=N.AJAX,t.$DJJ=N.JSONAJAX,t.$DJMain=function(t){N.tag("body").load(t)}}(this);
//# sourceMappingURL=domjunk.min.js.map