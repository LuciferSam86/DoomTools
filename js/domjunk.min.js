/****************************************************************************
 * DOMJunk by Matt Tropiano (C) 2021
 * Requires ECMAScript 6
 * Licensed for use under the MIT License
 * @license
 ****************************************************************************/
!function(t){if(!t.document.querySelectorAll)return void console.error("Missing required function: document.querySelectorAll.");if(!t.document.querySelector)return void console.error("Missing required function: document.querySelector.");if(!t.document.createElement)return void console.error("Missing required function: document.createElement.");if(!t.document.createTextNode)return void console.error("Missing required function: document.createTextNode.");if(!t.Element.prototype.querySelectorAll)return void console.error("Missing required function: Element.querySelectorAll.");if(!t.Element.prototype.querySelector)return void console.error("Missing required function: Element.querySelector.");if(!t.DOMParser)return void console.error("Missing required object: DOMParser.");const e=function(t,e){return Object.prototype.toString.call(t)==="[object "+e+"]"},n=function(t){return void 0===t},i=function(t){return null===t},o=function(t){return e(t,"Boolean")},s=function(t){return e(t,"Number")},r=function(t){return e(t,"String")},u=function(t){return e(t,"Array")},l=function(t){return e(t,"Function")},a=function(t){return e(t,"Object")},c=function(t){return n(t)||i(t)||u(t)&&0===t.length||s(t)&&isNaN(t)||r(t)&&0===t.trim().length||0===t},d=function(t,e){if(!n(t)&&!i(t))if(o(t)||s(t)||r(t))e(t,null,1);else for(let n in t)if(t.hasOwnProperty(n)&&e(t[n],n,t.length))break},h=function(t,e){return e(t),t},p=function(){let t={};return d(arguments,e=>{t={...t,...e}}),t},f=function(t){let e=[];return d(t,(t,o)=>{if(u(t))for(let n=0;n<t.length;n++)e.push(encodeURIComponent(o)+"="+encodeURIComponent(t[n]));else n(t)||i(t)||e.push(encodeURIComponent(o)+"="+encodeURIComponent(t))}),e.join("&")},m=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.msMatchesSelector,y=function(t,e){return m.call(t,e)},g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},x=/&|\<|\>|\"|\'|\/|`|=/g,A={data:null,dataType:"form",responseType:null,headers:{},responseIsSuccess:!1,async:!0,user:null,password:null};class S{constructor(t,e){if(n(t)||i(t))this.length=0;else if(e||n(t.length))this[0]=t,this.length=1;else{for(let e=0;e<t.length;e++)this[e]=t[e];this.length=t.length}}}class F{constructor(t,e,n){this.beforeSendFunc=null,this.uploadStartFunc=null,this.uploadProgressFunc=null,this.uploadSuccessFunc=null,this.uploadEndFunc=null,this.startFunc=null,this.progressFunc=null,this.successFunc=null,this.failureFunc=null,this.alwaysFunc=null,this.abortFunc=null,this.timeoutFunc=null;const i=t=>{this.failureFunc&&this.failureFunc(r.status,r.statusText,r,t)},o=t=>{this.abortFunc&&this.abortFunc(r,t)},s=t=>{this.timeoutFunc&&this.timeoutFunc(r,t)},r=new XMLHttpRequest;r.open(e.method,t,e.async,e.user,e.password),e.headers&&d(e.headers,(t,e)=>{r.setRequestHeader(e,t)}),r.upload.onloadstart=(t=>{this.uploadStartFunc&&this.uploadStartFunc(r,t)}),r.upload.onprogress=(t=>{this.uploadProgressFunc&&this.uploadProgressFunc(t.lengthComputable?t.loaded/t.total:0,t.loaded,t.total,r,t)}),r.upload.onload=(t=>{this.uploadSuccessFunc&&this.uploadSuccessFunc(r,t)}),r.upload.onloadend=(t=>{this.uploadEndFunc&&this.uploadEndFunc(r,t)}),r.upload.onerror=i,r.upload.onabort=o,r.upload.ontimeout=s,r.onloadstart=(t=>{this.startFunc&&this.startFunc(r,t)}),r.onprogress=(t=>{this.progressFunc&&this.progressFunc(t.lengthComputable?t.loaded/t.total:0,t.loaded,t.total,r,t)}),r.onerror=i,r.onabort=o,r.ontimeout=s,r.onload=(t=>{let n=parseInt(r.status/100,10);if(4!==n&&5!==n||e.responseIsSuccess){if(this.successFunc)try{const n="charset=";let i=r.getResponseHeader("Content-Type"),o=i.indexOf(";"),s=o>=0?i.substring(0,o):i,u=i.indexOf(n),l=u>=0?i.substring(u+n.length,i.length).trim():null,a=e.responseType||s,c=r.response;responseTypeHandlers[a]&&(c=responseTypeHandlers[a](r.response,r.responseType,s,l,i)),this.successFunc(c,r.status,r.statusText,r,t)}catch(e){this.failureFunc&&this.failureFunc(null,null,r,t,e),this.alwaysFunc&&this.alwaysFunc(t,r)}}else this.failureFunc&&this.failureFunc(r.status,r.statusText,r,t)}),r.onloadend=(t=>{this.alwaysFunc&&this.alwaysFunc(r,t)}),setTimeout(()=>{try{this.beforeSendFunc&&this.beforeSendFunc(r),r.send(n)}catch(t){this.failureFunc&&this.failureFunc(null,null,r,null,t),this.alwaysFunc&&this.alwaysFunc(null,r)}},0)}beforeSend(t){return this.beforeSendFunc=t,this}start(t){return this.startFunc=t,this}progress(t){return this.progressFunc=t,this}success(t){return this.successFunc=t,this}uploadStart(t){return this.uploadStartFunc=t,this}uploadProgress(t){return this.uploadProgressFunc=t,this}uploadSuccess(t){return this.uploadSuccessFunc=t,this}uploadFinished(t){return this.uploadEndFunc=t,this}failure(t){return this.failureFunc=t,this}always(t){return this.alwaysFunc=t,this}abort(t){return this.abortFunc=t,this}timeout(t){return this.timeoutFunc=t,this}}F.prototype.responseTypeHandlers={};const T=function(t){let o=null;r(t)?o={method:"GET",url:t}:a(t)&&(o=t),o.method?o.method=o.method.toUpperCase():o.method="GET",o.url=o.url||"#";let s=p(A,o),u=s.url,l=null;return i(s.data)||n(s.data)||(a(s.data)?"GET"===s.method||"DELETE"===s.method?u=u+(u.indexOf("?")>=0?"&":"?")+f(s.data):"text"===s.dataType?(l=f(s.data),s.headers["Content-Type"]="text/plain"):"json"===s.dataType?(l=JSON.stringify(s.data),s.headers["Content-Type"]="application/json"):"form"===s.dataType&&(l=f(s.data),s.headers["Content-Type"]="application/x-www-form-urlencoded"):r(s.data)||e(s.data,"DOMString")?"GET"===s.method||"DELETE"===s.method?u+=qs:(l=s.data,s.headers["Content-Type"]=s.dataType||"application/octet-stream"):e(s.data,"ArrayBuffer")?"GET"!==s.method&&"DELETE"!==s.method&&(l=s.data,s.headers["Content-Type"]=s.dataType||"application/octet-stream"):e(s.data,"ArrayBufferView")?"GET"!==s.method&&"DELETE"!==s.method&&(l=s.data,s.headers["Content-Type"]=s.dataType||"application/octet-stream"):e(s.data,"Blob")?"GET"!==s.method&&"DELETE"!==s.method&&(l=s.data,s.headers["Content-Type"]=s.dataType||"application/octet-stream"):e(s.data,"Document")||e(s.data,"HTMLDocument")?"GET"!==s.method&&"DELETE"!==s.method&&(l=s.data,s.headers["Content-Type"]="text/html"):e(s.data,"XMLDocument")?"GET"!==s.method&&"DELETE"!==s.method&&(l=s.data,s.headers["Content-Type"]="application/xml"):e(s.data,"FormData")&&"GET"!==s.method&&"DELETE"!==s.method&&(l=s.data,s.headers["Content-Type"]="multipart/form-data")),new F(u,s,l)},E=function(t,e,n,i){return T({method:t,headers:i,url:e,data:n,dataType:"json",responseType:"json"})},J=function(t){return Util.isString(t)?t:Object.prototype.toString.call(t)},b=function(t,e,n){return(new DOMParser).parseFromString(t,n)},w=function(t){return JSON.parse(t)},D=new function(){return function(t,e){return n(t)||i(t)?new S([]):r(t)?new S(e?document.querySelector(t):document.querySelectorAll(t)):new S(t)}};D.extend=function(t,e){S.prototype[t]=function(){let t;for(let i=0;i<this.length&&n(t);i++)t=e.apply(this[i],arguments);return n(t)?this:t}},D.extendSelection=function(t,e){S.prototype[t]=function(){return e.apply(this,arguments)}},D.extendAJAX=function(t,e){F.prototype.responseTypeHandlers[t]=e},D.extend("each",function(t){t.apply(this,[])}),D.extend("find",function(t,e){return new S(e?this.querySelector(t):this.querySelectorAll(t))}),D.extend("child",function(t){return new S(this.children[t],!0)}),D.extend("children",function(){return new S(this.children)}),D.extend("parent",function(){return new S(this.parentElement,!0)}),D.extend("clear",function(){for(;this.firstChild;)this.removeChild(this.firstChild)}),D.extend("append",function(t){if(u(t))for(let e=0;e<t.length;e++)this.appendChild(t[e]);else if(t instanceof Document)for(let e=0;e<t.children.length;e++)this.appendChild(t.children[e]);else this.appendChild(t)}),D.extend("refill",function(t){new S(this).clear().append(t)}),D.extend("html",function(t){if(n(t))return this.innerHTML;this.innerHTML=t}),D.extend("text",function(t){if(n(t))return this.innerText;this.innerHTML=t.replace(x,t=>g[t])}),D.extend("set",function(t,e){this[t]=e}),D.extend("merge",function(t){d(t,(t,e)=>{this[e]=t})}),D.extend("style",function(t){if(n(t))return p({},this.style);if(u(t)){let e={};return d(t,t=>{e[t]=this.style[t]}),e}if(!a(t))return this.style[t];d(t,(t,e)=>{this.style[e]=t})}),D.extend("attr",function(t){if(n(t)){let t={};const e=this.getAttributeNames();for(let n=0;n<e.length;n++)t[e[n]]=this.getAttribute(e[n]);return t}if(u(t)){let e={};return d(t,t=>{e[t]=this.getAttribute(t)}),e}if(!a(t))return this.getAttribute(t);d(t,(t,e)=>{this.setAttribute(e,t)})}),D.extend("classAdd",function(){const t=this.className.trim().length>0?this.className.split(/\s+/):[],e=h({},e=>{t.map(t=>{e[t]=!0})});for(let n=0;n<arguments.length;n++)e[arguments[n]]||t.push(arguments[n]);this.className=t.join(" ")}),D.extend("classRemove",function(){const t=this.className.trim().length>0?this.className.split(/\s+/):[],e={};for(let t=0;t<arguments.length;t++)e[arguments[t]]=!0;const n=[];d(t,t=>{e[t]||n.push(t)}),c(n)?this.removeAttribute("class"):this.className=n.join(" ")}),D.extend("classToggle",function(){const t=this.className.trim().length>0?this.className.split(/\s+/):[],e=h({},e=>{t.map(t=>{e[t]=!0})}),n=h({},t=>{d(arguments,e=>{t[e]=!0})}),i=[];for(let e=0;e<t.length;e++){let o=t[e];n[o]||i.push(o)}for(let t=0;t<arguments.length;t++){let n=arguments[t];e[n]||i.push(n)}c(i)?this.removeAttribute("class"):this.className=i.join(" ")}),D.extend("attach",function(t,e){this["on"+t.toLowerCase()]=e?function(t){e.apply(t.target,[t])}:null}),D.extend("detach",function(t){this["on"+t.toLowerCase()]=null}),D.extendSelection("get",function(t){return new S(this[t])}),D.extendSelection("first",function(){return new S(this[0])}),D.extendSelection("last",function(){return new S(this[this.length-1])}),D.extendSelection("form",function(t){if(!n(t)&&!l(t))throw new Error("Callback function for formData must be a function!");let e={};return new S(this).find("input, textarea, select").each(function(){let t=this.getAttribute("name");if(t&&!y(this,":disabled")){const n=this.getAttribute("type");let i="checkbox"===n||"radio"===n?y(this,":checked")&&this.value:this.value;if(i)if(a(e[t]))e[t].push(i);else if(e[t]){let n=[e[t],i];e[t]=n}else e[t]=i}}),t?(t(e),this):e}),D.extendSelection("apply",function(t){d(t,(t,e)=>{this.find(e).each(t)})}),D.extendSelection("load",function(t){this.attach("load",t)}),D.extendSelection("unload",function(t){this.attach("unload",t)}),D.extendSelection("click",function(t){this.attach("click",t)}),D.extendSelection("dblclick",function(t){this.attach("dblclick",t)}),D.extendSelection("hover",function(t){this.attach("mouseenter",t)}),D.extendSelection("leave",function(t){this.attach("mouseleave",t)}),D.extendSelection("keydown",function(t){this.attach("keydown",t)}),D.extendSelection("keyup",function(t){this.attach("keyup",t)}),D.extendSelection("focus",function(t){this.attach("focus",t)}),D.extendSelection("blur",function(t){this.attach("blur",t)}),D.extendSelection("change",function(t){this.attach("change",t)}),D.extendAJAX("text",J),D.extendAJAX("text/plain",J),D.extendAJAX("json",w),D.extendAJAX("application/json",w),D.extendAJAX("xml",b),D.extendAJAX("text/xml",b),D.extendAJAX("application/xml",b),D.extendAJAX("html",b),D.extendAJAX("text/html",b),D.extendAJAX("xhtml",b),D.extendAJAX("text/xhtml",b),D.id=function(t){return new S(document.getElementById(t),!0)},D.class=function(t){return new S(document.getElementsByClassName(t))},D.tag=function(t,e){return n(e)?new S(document.getElementsByTagName(t)):new S(document.getElementsByTagNameNS(e,t))},D.Util={},D.Util.isType=e,D.Util.isUndefined=n,D.Util.isNull=i,D.Util.isBoolean=o,D.Util.isNumber=s,D.Util.isString=r,D.Util.isArray=u,D.Util.isFunction=l,D.Util.isObject=a,D.Util.isBlank=c,D.Util.each=d,D.Util.fold=h,D.Util.merge=p,D.Util.queryString=f,D.Util.E=function(t,e,n){const i=document.createElement(t);if(e&&d(e,(t,e)=>{const n=document.createAttribute(e);n.value=t,i.setAttributeNode(n)}),n)if(u(n))for(let t=0;t<n.length;t++)i.appendChild(n[t]);else i.appendChild(n);return i},D.Util.T=function(t){return document.createTextNode(t)},D.AJAX=T,D.JSONAJAX=E,D.JSONAJAX.get=function(t,e){return E("get",t,null,e)},D.JSONAJAX.delete=function(t,e){return E("delete",t,null,e)},D.JSONAJAX.put=function(t,e,n){return E("put",t,e,n)},D.JSONAJAX.post=function(t,e,n){return E("post",t,e,n)},D.JSONAJAX.patch=function(t,e,n){return E("patch",t,e,n)};let N=t.$DJ,C=t.$DJU,U=t.$DJA,q=t.$DJJ,X=t.$DJMain;D.noConflict=function(){t.$DJ=N,t.$DJU=C,t.$DJA=U,t.$DJJ=q,t.$DJMain=X},t.DOMJunk=D,t.$DJ=D,t.$DJU=D.Util,t.$DJA=D.AJAX,t.$DJJ=D.JSONAJAX,t.$DJMain=function(t){D.tag("body").load(t)}}(this);
//# sourceMappingURL=domjunk.min.js.map